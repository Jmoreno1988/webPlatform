<script src="..\bower_components\jquery\dist\jquery.min.js"></script>
<script src="..\bower_components/chessboard-js\js\chessboard.js" ></script>
<link rel=StyleSheet href="..\bower_components/chessboard-js\css/chessboard.css" type="text/css">
<dom-module id="board-chess">
    <style>
        :host {
        }

        paper-toolbar {
                background: #33383a !important;
            }
        #board {
            width: 100%;
        }

        #paperDrawerPanelChess {
            visibility: hidden;
            width: 100%;
            height: 100%;
            background-color: white;
        }

        #contentBoard{
            margin: 30px auto;
            max-width: 500px;
            width: 100%;
            min-width: 300px;
        }
    </style>

    <template>
        <paper-drawer-panel id="paperDrawerPanelChess" force-narrow>
            <div drawer>
                <button tabindex="0" paper-drawer-toggle>Close drawer</button>
                asd
            </div>
            <div main>
                <paper-toolbar>
                    <paper-icon-button icon="icons:menu" paper-drawer-toggle></paper-icon-button>
                    <span class="title">Title</span>
                    <paper-button>Info</paper-button>
                    <paper-button id="buttonBackToMenu">Back</paper-button>
                </paper-toolbar>
                
                <paper-material id="contentBoard" elevation="1">
                    <div id="board"></div>
                </paper-material>
                                
            </div>
        </paper-drawer-panel>

    </template>
    <script>

        Polymer({

            is: 'board-chess',

            properties: {
                board: String
            },

            attached: function () {
               //var board = new Chessboard('board', this.board);
                //this.$.board.addEventListener('click', function () { console.log(board.getPosition(ChessUtils.FEN.id)) });
                this.$.buttonBackToMenu.addEventListener('click', function () { this._backToMenu() }.bind(this));
                document.addEventListener('loadBoardChess', function (evt) { this._loadGame(evt.detail.board) }.bind(this))
            },

            _loadGame: function (board) {
                this.$.paperDrawerPanelChess.style.visibility = 'visible';
                var board = new Chessboard('board', board);
            },

            _backToMenu: function () {
                this.$.paperDrawerPanelChess.style.visibility = 'hidden';
            }
        })
    </script>
</dom-module>
